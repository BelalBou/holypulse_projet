#!/bin/bash

echo "üéØ GUIDE DE D√âPLOIEMENT HOLYPULSE - 2 SERVICES S√âPAR√âS"
echo "===================================================="
echo ""

echo "‚úÖ Votre projet est configur√© pour un d√©ploiement en 2 services:"
echo "   üî¥ Backend Laravel (API) ‚Üí Dockerfile √† la racine"
echo "   üîµ Frontend Vue.js ‚Üí Static Site dans /FRONT"
echo ""

echo "üìã √âTAPE 1: D√âPLOIEMENT DU BACKEND (API)"
echo "========================================"
echo "1Ô∏è‚É£  Aller sur https://dashboard.render.com"
echo "2Ô∏è‚É£  Cliquer sur 'New +' ‚Üí 'Web Service'"
echo "3Ô∏è‚É£  Connecter votre repository GitHub"
echo "4Ô∏è‚É£  Configuration:"
echo "    ‚Ä¢ Name: holypulse-api"
echo "    ‚Ä¢ Region: Europe (Frankfurt)"  
echo "    ‚Ä¢ Branch: master"
echo "    ‚Ä¢ Root Directory: (laisser vide)"
echo "    ‚Ä¢ Runtime: Docker"
echo "    ‚Ä¢ Dockerfile Path: ./Dockerfile"
echo ""
echo "5Ô∏è‚É£  Variables d'environnement (IMPORTANTES!):"
echo ""
echo "APP_NAME=HolyPulse"
echo "APP_ENV=production"
echo "APP_DEBUG=false"
echo "APP_URL=https://holypulse-api.onrender.com"
echo "APP_KEY=base64:QmF0dGVyeUJlYXV0aWZ1bEVuZXJneTIwMjUhSG9seVB1bHNl"
echo "DATABASE_URL=postgresql://holy_user:0j3VsaVte2QSzolSgEfxdQnMN1Q2KFxu@dpg-d15p3h2dbo4c73c2gsf0-a.frankfurt-postgres.render.com/holy"
echo "DB_CONNECTION=pgsql"
echo "DB_HOST=dpg-d15p3h2dbo4c73c2gsf0-a.frankfurt-postgres.render.com"
echo "DB_PORT=5432"
echo "DB_DATABASE=holy"
echo "DB_USERNAME=holy_user"
echo "DB_PASSWORD=0j3VsaVte2QSzolSgEfxdQnMN1Q2KFxu"
echo "FRONTEND_URL=https://holypulse-frontend.onrender.com"
echo "SANCTUM_STATEFUL_DOMAINS=holypulse-frontend.onrender.com"
echo ""
echo "üìã √âTAPE 2: D√âPLOIEMENT DU FRONTEND"
echo "==================================="
echo "1Ô∏è‚É£  Dans le m√™me dashboard, cliquer sur 'New +' ‚Üí 'Static Site'"
echo "2Ô∏è‚É£  Connecter le m√™me repository"
echo "3Ô∏è‚É£  Configuration:"
echo "    ‚Ä¢ Name: holypulse-frontend"
echo "    ‚Ä¢ Branch: master"
echo "    ‚Ä¢ Root Directory: FRONT"
echo "    ‚Ä¢ Build Command: npm install && npm run build"
echo "    ‚Ä¢ Publish Directory: dist"
echo ""
echo "4Ô∏è‚É£  Variables d'environnement:"
echo "VITE_API_BASE_URL=https://holypulse-api.onrender.com"
echo ""
echo "üìã √âTAPE 3: MISE √Ä JOUR DES CORS"
echo "================================"
echo "Une fois que vous avez les vraies URLs Render, mettez √† jour:"
echo "1Ô∏è‚É£  Les variables APP_URL et FRONTEND_URL du backend"
echo "2Ô∏è‚É£  La variable VITE_API_BASE_URL du frontend"
echo "3Ô∏è‚É£  Red√©ployez les deux services"
echo ""
echo "üöÄ R√âSULTAT FINAL:"
echo "=================="
echo "‚Ä¢ API Backend: https://holypulse-api.onrender.com"
echo "‚Ä¢ Frontend: https://holypulse-frontend.onrender.com"
echo ""
echo "‚è±Ô∏è  Temps estim√© total: 10-15 minutes"
echo ""
echo "üéâ Votre application sera compl√®tement fonctionnelle!"
